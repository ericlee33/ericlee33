---
title: h5è°ƒè¯•æŠ€å·§
date: 2021-03-25 19:22:42
tags:
- h5
---


## å‰è¿°
>æœ¬æ–‡ä»…ä»‹ç»éæŠ“åŒ…ä¹‹å¤–çš„å…¶å®ƒè°ƒè¯•æŠ€å·§
æˆ‘ä»¬å·²ç»ä¹ æƒ¯äº†æ¨¡æ‹Ÿå™¨è¿›è¡Œè°ƒè¯•ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿›è¡Œæœ¬åœ°çœŸæœºè°ƒè¯•ï¼Ÿ
ä¸¾ä¸ªä¾‹å­ï¼š

- `ios`çœŸæœºç¯å¢ƒï¼Œæˆ‘ä»¬æ”¶åˆ°çŸ­ä¿¡éªŒè¯ç åï¼Œç‚¹å‡»å¤åˆ¶ï¼Œ`ios`ç³»ç»Ÿå±‚é¢ä¼šå­˜åœ¨`bug`ï¼Œå‰ªåˆ‡ä¸‹æ¥çš„éªŒè¯ç ä¼šè¢«é‡å¤ä¸¤éï¼Œä¾‹å¦‚æ”¶åˆ°çš„éªŒè¯ç ä¸º`123456`ï¼Œä½†æ˜¯å®é™…å¤åˆ¶ååˆ°å‰ªåˆ‡æ¿çš„å°±å˜æˆäº†`123456123456`ã€‚


å¦‚æœä½ å¯¹`ã€Œå„ç«¯h5çš„å‘ã€`äº†è§£ä¸æ·±ã€‚æ²¡æœ‰ä½¿ç”¨çœŸæœºè°ƒè¯•çš„æ–¹å¼ï¼Œå°±æ— æ³•åœ¨æœ¬åœ°è°ƒè¯•çš„é˜¶æ®µå°±å‘ç°æ½œåœ¨çš„é—®é¢˜ã€‚

## åˆ©ç”¨Chromeè¿›è¡ŒçœŸæœºè°ƒè¯•
> ä¸ºä»€ä¹ˆçœŸæœºæµ‹è¯•æ˜¯å¿…è¦çš„ï¼Ÿ

### é¦–å…ˆåˆ†äº«ä¸€ä¸ªå‘
ä¸€å¼€å§‹ï¼Œä¸ºäº†å®ç°ä¸€å±å®Œå…¨å¡«å……ï¼Œè€ƒè™‘åˆ°ç§»åŠ¨ç«¯å¯¹`vw`ï¼Œ`vh`å®Œç¾æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨å¦‚ä¸‹ä»£ç å¯¹å®½é«˜è¿›è¡Œæ§åˆ¶
```css
html, body {
  height: 100vh;
  width: 100vw;
  background-color: blue;
}
```
å¥½çš„ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æ•ˆæœï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šï¼Œè¡¨ç°å¾ˆå®Œç¾ï¼Œæ•´æ•´ä¸€å±çš„`blue`ï¼Œè¿™æ ·çœ‹èµ·æ¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/033457f5d860488e93198d121bc7d7a4~tplv-k3u1fbpfcp-zoom-1.image" width="40%" />

### çœŸæœºè°ƒè¯•æ­¥éª¤
#### å‡†å¤‡é¡¹

- é¦–å…ˆç¡®ä¿ä½ æœ‰ä¸€æ ¹åŒå‘`Type-c`çš„çº¿ï¼ˆğŸ˜­ æˆ‘æ²¡æœ‰ï¼Œå°±æŠŠ`mac`å……ç”µå™¨çš„çº¿æ¥åˆ°æ‰‹æœºä¸Šäº†ï¼‰
- æ¥ä¸‹æ¥ï¼Œç”¨çº¿å°†æ‰‹æœºå’Œç”µè„‘è¿åˆ°ä¸€èµ·
- æ‰“å¼€æ‰‹æœºçš„`Chrome`
- åœ¨å®Œæˆç”µè„‘ä¸æ‰‹æœºä¹‹åï¼Œåœ¨ç”µè„‘`Chrome`ä¸­è¾“å…¥ä»¥ä¸‹åœ°å€ï¼š

- `chrome://inspect/#devices`


#### å¦‚ä½•åˆ¤æ–­é“¾æ¥æˆåŠŸï¼Ÿ
å¦‚æœä½ èƒ½çœ‹åˆ°`Chrome`è¯†åˆ«å‡ºäº†ä½ çš„ç§»åŠ¨è®¾å¤‡ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°å½“å‰`Chrome`æµè§ˆå†å²é¡µé¢åˆ—è¡¨ï¼Œè¯æ˜ä½ é“¾æ¥æˆåŠŸäº†ï¼

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/11db1b77daf54635a9c13390054529ef~tplv-k3u1fbpfcp-zoom-1.image)
#### å¼€å§‹çœŸæœºè°ƒè¯•
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ **`chrome://inspect/#devices` é¡µæ‰“å¼€ä¸€ä¸ªæˆ‘ä»¬æƒ³è¦è¿›è¡Œè°ƒè¯•çš„é¡µé¢**
**è¿™é‡Œæˆ‘ä»¬æ‰“å¼€ç¬¬ä¸€æ­¥ï¼š**`On Your Network`: [https://192.168.12.247:3000](https://192.168.12.247:3000)çš„é¡µé¢
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82607a4f98e84c9ea4819f2f02093ccd~tplv-k3u1fbpfcp-zoom-1.image)
#### å›åˆ°ä¸€å¼€å§‹çš„é—®é¢˜ï¼ŒçœŸæœºè°ƒè¯•ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ
å¯ä»¥çœ‹åˆ°ï¼Œç”±äºæ¨¡æ‹Ÿå™¨æ²¡æœ‰`address bar`ï¼Œæ— æ³•è®©æˆ‘ä»¬å‘ç°é—®é¢˜ï¼Œåˆ°äº†ç§»åŠ¨ç«¯ä¹‹åï¼Œ`100vh`å®é™…ä¼šæº¢å‡ºï¼Œå°±å‡ºç°æ»šåŠ¨æ¡äº†ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœã€‚
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eec016fce0394d509894a370253847a8~tplv-k3u1fbpfcp-zoom-1.image)

æœ‰ä¸€äº›äººæå‡ºå¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯åœ¨å®è·µä¸­å‘ç°ï¼Œå®‰å“çœŸæœºæ‰“å¼€é”®ç›˜ä¼šå¯¼è‡´`body`å…ƒç´ é«˜åº¦å‡å°‘ï¼Œæ”¶èµ·é”®ç›˜ä¹‹åï¼Œ`body`é«˜åº¦ä¸ä¼šå˜å›å»ï¼Œå¯¼è‡´åŸé”®ç›˜åŒºåŸŸä¸ºç©ºç™½ã€‚
```css
/* å­˜åœ¨é—®é¢˜çš„æ–¹æ¡ˆ */
html, body {
  height: -moz-available;
  height: fill-available;
  height: -webkit-fill-available; /* è¡¨ç¤ºæ’‘æ»¡å¯ç”¨ç©ºé—´ï¼ˆåŒ…æ‹¬é«˜åº¦ï¼Œå®½åº¦ï¼‰*/
}
```

è§£å†³æ–¹æ³•ï¼š
```css
/* æœ€ç»ˆæ–¹æ¡ˆ */
html, body {
  min-height: 100%;
}
```


## ä½¿ç”¨vConsoleæ’ä»¶
> è¿›è¡Œå°ç¨‹åºå¼€å‘çš„å„ä½åº”è¯¥å¯¹`vConsole`å¾ˆç†Ÿæ‚‰äº†å§ï¼Œä½†æ˜¯æˆ‘ä¸€å¼€å§‹ä¹Ÿä»¥ä¸ºè¿™ä¸ªæ’ä»¶æ˜¯å°ç¨‹åºåº•å±‚å†…ç½®çš„ï¼Œå®é™…ä¸Šåœ¨h5ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•å…¥è¿™ä¸ªæ’ä»¶ã€‚

---

### ç›´æ¥å¼•å…¥
> [https://github.com/Tencent/vConsole](https://github.com/Tencent/vConsole)

```javascript
// index.js
import vconsole from 'vconsole' 
const vConsole = new VConsole();
```
### é€šè¿‡Webpackæ’ä»¶å½¢å¼å¼•å…¥
> [https://github.com/diamont1001/vconsole-webpack-plugin](https://github.com/diamont1001/vconsole-webpack-plugin)

```javascript
//webpack.config.js
/** ä»¥ä¸‹ä¸ºä¼ªä»£ç  */
const vConsolePlugin = require('vconsole-webpack-plugin');

plugins: [
  isEnvDevelopment &&
    new vConsolePlugin({
      filter: [],
      enable: isEnvDevelopment,
   }),
]
```

## ä½¿ç”¨å†…ç½‘ipè¿›è¡ŒçœŸæœºè°ƒè¯•
### å¦‚ä½•è·å–æœ¬åœ°ipï¼Ÿ
å¦‚æœä½ é€šè¿‡`npm run dev`å¯åŠ¨æœ¬åœ°`dev`ç¯å¢ƒï¼Œå¹¶ä¸”é¡¹ç›®æ˜¯åŸºäº`create-react-app`æˆ–`vue-cli`æ­å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œç”±äºå°è£…çš„è„šæ‰‹æ¶ä¸­é…ç½®äº†`webpack`ç›¸å…³çš„`plugin`ï¼Œé¡¹ç›®è¿è¡ŒæˆåŠŸåä¼šåœ¨å‘½ä»¤è¡Œä¸­æœ‰ä¸€äº›æç¤ºï¼Œä¸çŸ¥ä½ æœ‰æ²¡æœ‰æ³¨æ„è¿‡`terminal`æç¤ºé‡Œçš„ç¬¬ä¸‰è¡Œåœ°å€ï¼Ÿ


**`On Your Network: https://192.168.12.247:3000`**

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4bf0c81808cd4a499ed25c65e5093c35~tplv-k3u1fbpfcp-zoom-1.image" width="50%" />

å¦‚æœä½ çš„é¡¹ç›®æ²¡æœ‰ä½¿ç”¨`webpack`ï¼Œæˆ–æ²¡æœ‰é…ç½®ç›¸å…³`plugins`ï¼Œçœ‹ä¸åˆ°`**On Your Network`**ä¹Ÿæ²¡æœ‰å…³ç³»
å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å–å†…ç½‘`ip`
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1

# æ‰§è¡Œç»“æœ
# inet 192.168.12.247 netmask 0xfffffc00 broadcast 192.168.15.255
# è¿™é‡Œ 192.168.12.247 å°±æ˜¯æœ¬æœºçš„å†…ç½‘ip
```

åœ¨çœŸæœº`Chrome`ä¸­è¾“å…¥`https://192.168.12.247:3000`ï¼Œå¯ä»¥çœ‹åˆ°æ‰‹æœºåç½®æ‘„åƒå¤´çš„ç”»é¢åœ¨é¡µé¢ä¸­é€šè¿‡`video`æˆåŠŸæ¸²æŸ“ã€‚
å¯¹äºè¿™ç§ä¾‹å¦‚éœ€è¦ä½¿ç”¨åç½®æ‘„åƒå¤´çš„ä¸šåŠ¡åœºæ™¯ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨çœŸæœºè¿›è¡Œå®æ—¶è°ƒè¯•ï¼ˆè°è®©`Mbp`è‡ªèº«ä¸å¸¦åç½®æ‘„åƒå¤´å‘¢ï¼ŸğŸ˜­ ï¼‰

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da3a50056ed54fcc809558ac474e1756~tplv-k3u1fbpfcp-zoom-1.image" width="30%"/>



### åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­æ‰‹åŠ¨è¾“å…¥åœ°å€ï¼Œè¿›è¡Œç§»åŠ¨ç«¯è°ƒè¯•å¾ˆéº»çƒ¦ï¼Ÿ
è¿™é‡Œæä¾›ä¸€ä¸ª`Chrome`æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ç”ŸæˆäºŒç»´ç 
[https://chrome.google.com/webstore/detail/qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp](https://chrome.google.com/webstore/detail/qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp)ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ 
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cbeb31635ef0420293d963016e102646~tplv-k3u1fbpfcp-zoom-1.image)



### FAQ
#### ç‚¹å‡»inspectåï¼Œå¼¹å‡ºçš„Devtoolså·¥å…·ç™½å±ï¼Œæç¤ºhttp1.1 404

- éœ€è¦æŸ¥çœ‹æ‰‹æœº`Chrome`ç‰ˆæœ¬å’Œç”µè„‘`Chrome`ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ï¼Œéœ€è¦å¯¹é½ç‰ˆæœ¬

ä»ç„¶æ— æ³•æ‰“å¼€`Devtools`åˆ™éœ€è¦ç§‘å­¦ä¸Šå­¦


#### è®¿é—®å†…ç½‘httpç¯å¢ƒæ— æ³•é€šè¿‡MediaDevices.getUserMediaè·å–è§†é¢‘ï¼ŒéŸ³é¢‘æµ
> ç”±äº`Chrome`çš„é™åˆ¶ï¼Œåªæœ‰`https`å¯ä»¥è·å–åˆ°æµï¼Œ`http`åˆ™æ— æ³•è·å–

å¯ä»¥é€šè¿‡`chrome://flags/`åœ¨ç™½åå•ä¸­è®¾ç½®`ip`æ¥è§£å†³é—®é¢˜
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27be3b0199814a0b9f476b9ff5e3b639~tplv-k3u1fbpfcp-zoom-1.image)

è°¢è°¢å¤§å®¶â¤ï¸
---
æˆ‘çš„åˆ†äº«åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå¦‚æœè¿˜æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµè®¨è®ºï¼Œå¯ä»¥æ·»åŠ æˆ‘çš„å¾®ä¿¡`actuallys`ï¼Œåˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹ä¸‰è¿ï½ï¼